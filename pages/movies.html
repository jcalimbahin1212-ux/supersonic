<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movies - SuperSonic</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/pages.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <header class="main-header">
        <div class="header-container">
            <div class="logo">
                <a href="/">
                    <span class="logo-super">Super</span><span class="logo-sonic">Sonic</span>
                </a>
            </div>
            <nav class="main-nav">
                <ul>
                    <li><a href="/"><i class="fas fa-home"></i> Home</a></li>
                    <li><a href="/pages/movies.html" class="active"><i class="fas fa-film"></i> Movies</a></li>
                    <li><a href="/pages/series.html"><i class="fas fa-tv"></i> Series</a></li>
                    <li><a href="/pages/games.html"><i class="fas fa-gamepad"></i> Games</a></li>
                    <li><a href="/pages/comics.html"><i class="fas fa-book"></i> Comics</a></li>
                    <li><a href="/pages/gallery.html"><i class="fas fa-images"></i> Gallery</a></li>
                    <li><a href="/pages/fanmade.html"><i class="fas fa-heart"></i> Fan Made</a></li>
                </ul>
            </nav>
            <div class="header-actions">
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="Search movies...">
                    <button id="searchBtn"><i class="fas fa-search"></i></button>
                </div>
                <div class="user-menu">
                    <button id="themeToggle"><i class="fas fa-moon"></i></button>
                    <a href="/pages/profile.html" class="profile-btn"><i class="fas fa-user"></i></a>
                </div>
            </div>
            <button class="mobile-menu-btn"><i class="fas fa-bars"></i></button>
        </div>
    </header>

    <!-- Page Hero -->
    <section class="page-hero">
        <div class="page-hero-bg" style="background-image: url('https://image.tmdb.org/t/p/original/b85bJfrHwV4Kb4eSXHdqNnWgNjL.jpg');"></div>
        <div class="page-hero-content">
            <h1><i class="fas fa-film"></i> Sonic Movies</h1>
            <p>Stream all Sonic the Hedgehog movies in HD quality</p>
        </div>
    </section>

    <!-- Filters -->
    <section class="filters-section">
        <div class="container">
            <div class="filters-bar">
                <div class="filter-group">
                    <label>Sort By:</label>
                    <select id="sortSelect">
                        <option value="newest">Newest First</option>
                        <option value="oldest">Oldest First</option>
                        <option value="rating">Highest Rated</option>
                        <option value="title">A-Z</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>Type:</label>
                    <select id="typeSelect">
                        <option value="all">All Movies</option>
                        <option value="live">Live Action</option>
                        <option value="animated">Animated</option>
                    </select>
                </div>
                <div class="results-count">
                    <span id="resultsCount">0</span> movies found
                </div>
            </div>
        </div>
    </section>

    <!-- Movies Grid -->
    <section class="content-section">
        <div class="container">
            <div class="content-grid large-grid" id="moviesGrid">
                <!-- Movies loaded dynamically -->
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="main-footer">
        <div class="container">
            <div class="footer-bottom">
                <p>&copy; 2024 SuperSonic. Sonic the Hedgehog is a trademark of SEGA.</p>
            </div>
        </div>
    </footer>

    <script src="/js/data.js"></script>
    <script src="/js/app.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            loadMovies();
            initFilters();
        });

        function loadMovies(sortBy = 'newest', filterType = 'all') {
            const container = document.getElementById('moviesGrid');
            const countEl = document.getElementById('resultsCount');
            
            let movies = [...sonicData.movies];
            
            // Sort
            switch(sortBy) {
                case 'oldest':
                    movies.sort((a, b) => a.year - b.year);
                    break;
                case 'rating':
                    movies.sort((a, b) => b.rating - a.rating);
                    break;
                case 'title':
                    movies.sort((a, b) => a.title.localeCompare(b.title));
                    break;
                default:
                    movies.sort((a, b) => b.year - a.year);
            }
            
            // Filter
            if (filterType === 'live') {
                movies = movies.filter(m => !m.genres.includes('Animation'));
            } else if (filterType === 'animated') {
                movies = movies.filter(m => m.genres.includes('Animation'));
            }
            
            countEl.textContent = movies.length;
            
            container.innerHTML = movies.map(movie => `
                <a href="watch.html?id=${movie.id}" class="content-card large-card fade-in">
                    <div class="card-image">
                        ${movie.isNew ? '<span class="type-badge">NEW</span>' : ''}
                        <img src="${movie.poster}" alt="${movie.title}" onerror="this.src='https://via.placeholder.com/300x450?text=No+Image'">
                        <div class="play-overlay">
                            <div class="play-btn">
                                <i class="fas fa-play"></i>
                            </div>
                        </div>
                    </div>
                    <div class="card-info">
                        <h3>${movie.title}</h3>
                        <div class="meta">
                            <span><i class="fas fa-calendar"></i> ${movie.year}</span>
                            <span><i class="fas fa-clock"></i> ${movie.duration}</span>
                            <span class="rating"><i class="fas fa-star"></i> ${movie.rating}</span>
                        </div>
                        <p class="card-desc">${movie.description}</p>
                        <div class="card-genres">
                            ${movie.genres.map(g => `<span class="genre-tag">${g}</span>`).join('')}
                        </div>
                    </div>
                </a>
            `).join('');
        }

        function initFilters() {
            const sortSelect = document.getElementById('sortSelect');
            const typeSelect = document.getElementById('typeSelect');
            
            sortSelect.addEventListener('change', () => {
                loadMovies(sortSelect.value, typeSelect.value);
            });
            
            typeSelect.addEventListener('change', () => {
                loadMovies(sortSelect.value, typeSelect.value);
            });
        }
    </script>
</body>
</html>
