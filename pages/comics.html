<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comics - SuperSonic</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/pages.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <header class="main-header">
        <div class="header-container">
            <div class="logo">
                <a href="../index.html">
                    <span class="logo-super">Super</span><span class="logo-sonic">Sonic</span>
                </a>
            </div>
            <nav class="main-nav">
                <ul>
                    <li><a href="../index.html"><i class="fas fa-home"></i> Home</a></li>
                    <li><a href="movies.html"><i class="fas fa-film"></i> Movies</a></li>
                    <li><a href="series.html"><i class="fas fa-tv"></i> Series</a></li>
                    <li><a href="games.html"><i class="fas fa-gamepad"></i> Games</a></li>
                    <li><a href="comics.html" class="active"><i class="fas fa-book"></i> Comics</a></li>
                    <li><a href="gallery.html"><i class="fas fa-images"></i> Gallery</a></li>
                    <li><a href="fanmade.html"><i class="fas fa-heart"></i> Fan Made</a></li>
                </ul>
            </nav>
            <div class="header-actions">
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="Search comics...">
                    <button id="searchBtn"><i class="fas fa-search"></i></button>
                </div>
                <div class="user-menu">
                    <button id="themeToggle"><i class="fas fa-moon"></i></button>
                    <a href="profile.html" class="profile-btn"><i class="fas fa-user"></i></a>
                </div>
            </div>
            <button class="mobile-menu-btn"><i class="fas fa-bars"></i></button>
        </div>
    </header>

    <!-- Page Hero -->
    <section class="page-hero">
        <div class="page-hero-bg comics-bg"></div>
        <div class="page-hero-content">
            <h1><i class="fas fa-book"></i> Sonic Comics</h1>
            <p>Read Sonic the Hedgehog comics from Archie and IDW Publishing</p>
        </div>
    </section>

    <!-- Filters -->
    <section class="filters-section">
        <div class="container">
            <div class="filters-bar">
                <div class="filter-group">
                    <label>Publisher:</label>
                    <select id="publisherSelect">
                        <option value="all">All Publishers</option>
                        <option value="archie">Archie Comics</option>
                        <option value="idw">IDW Publishing</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>Sort By:</label>
                    <select id="sortSelect">
                        <option value="newest">Newest First</option>
                        <option value="oldest">Oldest First</option>
                        <option value="title">A-Z</option>
                    </select>
                </div>
                <div class="results-count">
                    <span id="resultsCount">0</span> comics found
                </div>
            </div>
        </div>
    </section>

    <!-- Comics Grid -->
    <section class="content-section">
        <div class="container">
            <div class="content-grid comics-grid" id="comicsGrid">
                <!-- Comics loaded dynamically -->
            </div>
        </div>
    </section>

    <!-- Info Section -->
    <section class="info-section">
        <div class="container">
            <div class="info-box">
                <h3><i class="fas fa-book-open"></i> About Sonic Comics</h3>
                <div class="info-content">
                    <div class="info-item">
                        <h4>Archie Comics (1993-2017)</h4>
                        <p>The longest-running video game comic series ever published, featuring 290 issues of the main series plus numerous spin-offs including Sonic Universe, Knuckles the Echidna, and more.</p>
                    </div>
                    <div class="info-item">
                        <h4>IDW Publishing (2018-Present)</h4>
                        <p>The current home of Sonic comics, featuring new stories set after the events of Sonic Forces. The series has introduced new characters like Tangle the Lemur and Whisper the Wolf.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="main-footer">
        <div class="container">
            <div class="footer-bottom">
                <p>&copy; 2024 SuperSonic. Sonic the Hedgehog is a trademark of SEGA.</p>
            </div>
        </div>
    </footer>

    <script src="../js/data.js"></script>
    <script src="../js/app.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            loadComics();
            initFilters();
        });

        function loadComics(publisher = 'all', sortBy = 'newest') {
            const container = document.getElementById('comicsGrid');
            const countEl = document.getElementById('resultsCount');
            
            let comics = [...sonicData.comics];
            
            // Filter by publisher
            if (publisher !== 'all') {
                comics = comics.filter(c => c.category === publisher);
            }
            
            // Sort
            switch(sortBy) {
                case 'oldest':
                    comics.sort((a, b) => a.year - b.year);
                    break;
                case 'title':
                    comics.sort((a, b) => a.title.localeCompare(b.title));
                    break;
                default:
                    comics.sort((a, b) => b.year - a.year);
            }
            
            countEl.textContent = comics.length;
            
            container.innerHTML = comics.map(comic => `
                <div class="comic-card fade-in" onclick="openReader('${comic.id}')">
                    <div class="comic-cover">
                        ${comic.isNew ? '<span class="type-badge">NEW</span>' : ''}
                        <img src="${comic.cover}" alt="${comic.title}" onerror="this.src='https://via.placeholder.com/200x300?text=No+Cover'">
                        <div class="comic-overlay">
                            <button class="btn btn-sm"><i class="fas fa-book-open"></i> Read Now</button>
                        </div>
                    </div>
                    <div class="comic-info">
                        <h3>${comic.title}</h3>
                        <div class="meta">
                            <span>${comic.year}</span>
                            <span>${comic.publisher}</span>
                        </div>
                        <p class="comic-desc">${comic.description}</p>
                        <div class="comic-stats">
                            <span><i class="fas fa-file-alt"></i> ${comic.pages} pages</span>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function initFilters() {
            const publisherSelect = document.getElementById('publisherSelect');
            const sortSelect = document.getElementById('sortSelect');
            
            publisherSelect.addEventListener('change', () => {
                loadComics(publisherSelect.value, sortSelect.value);
            });
            
            sortSelect.addEventListener('change', () => {
                loadComics(publisherSelect.value, sortSelect.value);
            });
        }

        function openReader(comicId) {
            window.location.href = `read.html?id=${comicId}`;
        }
    </script>
</body>
</html>
